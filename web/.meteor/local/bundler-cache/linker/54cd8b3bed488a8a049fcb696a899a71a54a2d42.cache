[{"type":"js","data":"/* Imports for global scope */\n\nMongoInternals = Package.mongo.MongoInternals;\nMongo = Package.mongo.Mongo;\nReactiveVar = Package['reactive-var'].ReactiveVar;\nTracker = Package.tracker.Tracker;\nDeps = Package.tracker.Deps;\nECMAScript = Package.ecmascript.ECMAScript;\nmoment = Package['momentjs:moment'].moment;\nSimpleSchema = Package['aldeed:simple-schema'].SimpleSchema;\nMongoObject = Package['aldeed:simple-schema'].MongoObject;\nJsonRoutes = Package['simple:json-routes'].JsonRoutes;\nRestMiddleware = Package['simple:json-routes'].RestMiddleware;\nFlowRouter = Package['kadira:flow-router'].FlowRouter;\nBlazeLayout = Package['kadira:blaze-layout'].BlazeLayout;\nMeteor = Package.meteor.Meteor;\nglobal = Package.meteor.global;\nmeteorEnv = Package.meteor.meteorEnv;\nWebApp = Package.webapp.WebApp;\nmain = Package.webapp.main;\nWebAppInternals = Package.webapp.WebAppInternals;\n_ = Package.underscore._;\nDDP = Package['ddp-client'].DDP;\nDDPServer = Package['ddp-server'].DDPServer;\nLaunchScreen = Package['launch-screen'].LaunchScreen;\nmeteorInstall = Package.modules.meteorInstall;\nBuffer = Package.modules.Buffer;\nprocess = Package.modules.process;\nSymbol = Package['ecmascript-runtime'].Symbol;\nMap = Package['ecmascript-runtime'].Map;\nSet = Package['ecmascript-runtime'].Set;\nmeteorBabelHelpers = Package['babel-runtime'].meteorBabelHelpers;\nPromise = Package.promise.Promise;\nAccounts = Package['accounts-base'].Accounts;\nCollection2 = Package['aldeed:collection2-core'].Collection2;\nBlaze = Package.ui.Blaze;\nUI = Package.ui.UI;\nHandlebars = Package.ui.Handlebars;\nSpacebars = Package.spacebars.Spacebars;\nAutoupdate = Package.autoupdate.Autoupdate;\nHTML = Package.htmljs.HTML;\n\n","servePath":"/packages/global-imports.js"},{"type":"js","data":"var require = meteorInstall({\"lib\":{\"collections\":{\"guestUpdates\":{\"collection.js\":function(){\n\n///////////////////////////////////////////////////////////////////////////////////////////////////////////\n//                                                                                                       //\n// lib/collections/guestUpdates/collection.js                                                            //\n//                                                                                                       //\n///////////////////////////////////////////////////////////////////////////////////////////////////////////\n                                                                                                         //\nGuestUpdates = new Mongo.Collection('guestUpdates');                                                     // 1\n                                                                                                         //\nvar guestUpdateSchema = new SimpleSchema({                                                               // 3\n  _id: { type: String, regEx: SimpleSchema.RegEx.Id },                                                   // 4\n  value: { type: String }, // 'INC', or 'DEC'                                                            // 5\n  age: { type: String }, // 'AGE_GROUP_1', 'AGE_GROUP_2', 'AGE_GROUP_3', 'AGE_GROUP_4', or 'AGE_GROUP_5'\n  gender: { type: String }, // 'GENDER_MALE' or 'GENDER_FEMALE'                                          // 7\n  timestamp: { type: Date }                                                                              // 8\n});                                                                                                      // 3\n                                                                                                         //\nGuestUpdates.attachSchema(guestUpdateSchema);                                                            // 11\n                                                                                                         //\nGuestUpdates.methods = {};                                                                               // 13\n///////////////////////////////////////////////////////////////////////////////////////////////////////////\n\n}}},\"_helpers.js\":function(){\n\n///////////////////////////////////////////////////////////////////////////////////////////////////////////\n//                                                                                                       //\n// lib/_helpers.js                                                                                       //\n//                                                                                                       //\n///////////////////////////////////////////////////////////////////////////////////////////////////////////\n                                                                                                         //\nHelpers = {};                                                                                            // 1\n///////////////////////////////////////////////////////////////////////////////////////////////////////////\n\n},\"constants.js\":function(){\n\n///////////////////////////////////////////////////////////////////////////////////////////////////////////\n//                                                                                                       //\n// lib/constants.js                                                                                      //\n//                                                                                                       //\n///////////////////////////////////////////////////////////////////////////////////////////////////////////\n                                                                                                         //\nConstants = {};                                                                                          // 1\n///////////////////////////////////////////////////////////////////////////////////////////////////////////\n\n}},\"server\":{\"lib\":{\"guestUpdates\":{\"methods.js\":function(){\n\n///////////////////////////////////////////////////////////////////////////////////////////////////////////\n//                                                                                                       //\n// server/lib/guestUpdates/methods.js                                                                    //\n//                                                                                                       //\n///////////////////////////////////////////////////////////////////////////////////////////////////////////\n                                                                                                         //\n                                                                                                         //\n///////////////////////////////////////////////////////////////////////////////////////////////////////////\n\n}}},\"publications.js\":function(){\n\n///////////////////////////////////////////////////////////////////////////////////////////////////////////\n//                                                                                                       //\n// server/publications.js                                                                                //\n//                                                                                                       //\n///////////////////////////////////////////////////////////////////////////////////////////////////////////\n                                                                                                         //\nMeteor.startup(function () {});                                                                          // 1\n                                                                                                         //\nMeteor.publish('GuestUpdates.all', function () {                                                         // 5\n  return GuestUpdates.find();                                                                            // 6\n});                                                                                                      // 7\n///////////////////////////////////////////////////////////////////////////////////////////////////////////\n\n},\"router.js\":function(){\n\n///////////////////////////////////////////////////////////////////////////////////////////////////////////\n//                                                                                                       //\n// server/router.js                                                                                      //\n//                                                                                                       //\n///////////////////////////////////////////////////////////////////////////////////////////////////////////\n                                                                                                         //\nJsonRoutes.add('post', '/guestUpdate', function (req, res, next) {                                       // 1\n  var _req$body = req.body;                                                                              // 1\n  var age = _req$body.age;                                                                               // 1\n  var gender = _req$body.gender;                                                                         // 1\n  var value = _req$body.value;                                                                           // 1\n                                                                                                         //\n  var timestamp = new Date(+req.body.timestamp);                                                         // 3\n                                                                                                         //\n  var options = {                                                                                        // 5\n    data: {                                                                                              // 6\n      message: 'Success! guestUpdate has been registered'                                                // 7\n    },                                                                                                   // 6\n    code: 200                                                                                            // 9\n  };                                                                                                     // 5\n                                                                                                         //\n  GuestUpdates.insert({ age: age,                                                                        // 12\n    gender: gender,                                                                                      // 14\n    value: value,                                                                                        // 15\n    timestamp: timestamp                                                                                 // 16\n  }, function (err, guestUpdateId) {                                                                     // 13\n    if (err) {                                                                                           // 18\n      console.log('Error on POST to guestUpdate: ' + err.message);                                       // 19\n      options = {                                                                                        // 20\n        data: {                                                                                          // 21\n          message: err.message                                                                           // 22\n        },                                                                                               // 21\n        code: 500                                                                                        // 24\n      };                                                                                                 // 20\n    } else {                                                                                             // 26\n      console.log('Success! guestUpdate has been registered');                                           // 27\n    }                                                                                                    // 28\n  });                                                                                                    // 29\n  return JsonRoutes.sendResult(res, options);                                                            // 30\n});                                                                                                      // 31\n///////////////////////////////////////////////////////////////////////////////////////////////////////////\n\n}}},{\"extensions\":[\".js\",\".json\"]});\nrequire(\"./lib/collections/guestUpdates/collection.js\");\nrequire(\"./server/lib/guestUpdates/methods.js\");\nrequire(\"./lib/_helpers.js\");\nrequire(\"./lib/constants.js\");\nrequire(\"./server/publications.js\");\nrequire(\"./server/router.js\");","servePath":"/app.js","sourceMap":{"version":3,"sources":["/lib/collections/guestUpdates/collection.js","/lib/_helpers.js","/lib/constants.js","/server/publications.js","/server/router.js"],"names":[],"mappings":";;;;;;;;AAAA,eAAe,IAAI,MAAM,UAAV,CAAqB,cAArB,CAAf;;AAEA,IAAM,oBAAoB,IAAI,YAAJ,CAAiB;AACzC,OAAK,EAAE,MAAM,MAAR,EAAgB,OAAO,aAAa,KAAb,CAAmB,EAA1C,EADoC;AAEzC,SAAO,EAAE,MAAM,MAAR,EAFkC,E;AAGzC,OAAK,EAAE,MAAM,MAAR,EAHoC,E;AAIzC,UAAQ,EAAE,MAAM,MAAR,EAJiC,E;AAKzC,aAAW,EAAE,MAAM,IAAR;AAL8B,CAAjB,CAA1B;;AAQA,aAAa,YAAb,CAA0B,iBAA1B;;AAEA,aAAa,OAAb,GAAuB,EAAvB,qF;;;;;;;;;;;ACZA,UAAU,EAAV,iG;;;;;;;;;;;ACAA,YAAY,EAAZ,+F;;;;;;;;;;;;;;;;;;;;;;ACAA,OAAO,OAAP,CAAe,YAAM,CAEpB,CAFD;;AAIA,OAAO,OAAP,CAAe,kBAAf,EAAmC,YAAM;AACvC,SAAO,aAAa,IAAb,EAAP;AACD,CAFD,4G;;;;;;;;;;;ACJA,WAAW,GAAX,CAAe,MAAf,EAAuB,cAAvB,EAAuC,UAAC,GAAD,EAAM,GAAN,EAAW,IAAX,EAAoB;AAAA,kBAC1B,IAAI,IADsB;AAAA,MACjD,GADiD,aACjD,GADiD;AAAA,MAC5C,MAD4C,aAC5C,MAD4C;AAAA,MACpC,KADoC,aACpC,KADoC;;AAEzD,MAAM,YAAY,IAAI,IAAJ,CAAS,CAAC,IAAI,IAAJ,CAAS,SAAnB,CAAlB;;AAEA,MAAI,UAAU;AACZ,UAAM;AACJ,eAAS;AADL,KADM;AAIZ,UAAM;AAJM,GAAd;;AAOA,eAAa,MAAb,CACE,EAAE,QAAF;AACE,kBADF;AAEE,gBAFF;AAGE;AAHF,GADF,EAKK,UAAC,GAAD,EAAM,aAAN,EAAwB;AACzB,QAAI,GAAJ,EAAS;AACP,cAAQ,GAAR,oCAA6C,IAAI,OAAjD;AACA,gBAAU;AACR,cAAM;AACJ,mBAAS,IAAI;AADT,SADE;AAIR,cAAM;AAJE,OAAV;AAMD,KARD,MAQO;AACL,cAAQ,GAAR,CAAY,0CAAZ;AACD;AACJ,GAjBD;AAkBA,SAAO,WAAW,UAAX,CAAsB,GAAtB,EAA2B,OAA3B,CAAP;AACD,CA9BD,6G","file":"/app.js","sourcesContent":["GuestUpdates = new Mongo.Collection('guestUpdates');\n\nconst guestUpdateSchema = new SimpleSchema({\n  _id: { type: String, regEx: SimpleSchema.RegEx.Id },\n  value: { type: String },  // 'INC', or 'DEC'\n  age: { type: String }, // 'AGE_GROUP_1', 'AGE_GROUP_2', 'AGE_GROUP_3', 'AGE_GROUP_4', or 'AGE_GROUP_5'\n  gender: { type: String }, // 'GENDER_MALE' or 'GENDER_FEMALE'\n  timestamp: { type: Date },\n});\n\nGuestUpdates.attachSchema(guestUpdateSchema);\n\nGuestUpdates.methods = {};\n","Helpers = {};\n","Constants = {};\n","Meteor.startup(() => {\n  \n});\n\nMeteor.publish('GuestUpdates.all', () => {\n  return GuestUpdates.find();\n});\n","JsonRoutes.add('post', '/guestUpdate', (req, res, next) => {\n  const { age, gender, value } = req.body;\n  const timestamp = new Date(+req.body.timestamp);\n\n  let options = {\n    data: {\n      message: 'Success! guestUpdate has been registered',\n    },\n    code: 200,\n  };\n\n  GuestUpdates.insert(\n    { age,\n      gender,\n      value,\n      timestamp,\n    }, (err, guestUpdateId) => {\n      if (err) {\n        console.log(`Error on POST to guestUpdate: ${err.message}`);\n        options = {\n          data: {\n            message: err.message,\n          },\n          code: 500,\n        };\n      } else {\n        console.log('Success! guestUpdate has been registered');\n      }\n  });\n  return JsonRoutes.sendResult(res, options);\n});\n"]}}]