[{"type":"js","data":"/* Imports for global scope */\n\nMongo = Package.mongo.Mongo;\nReactiveVar = Package['reactive-var'].ReactiveVar;\n$ = Package.jquery.$;\njQuery = Package.jquery.jQuery;\nTracker = Package.tracker.Tracker;\nDeps = Package.tracker.Deps;\nmoment = Package['momentjs:moment'].moment;\nSimpleSchema = Package['aldeed:simple-schema'].SimpleSchema;\nMongoObject = Package['aldeed:simple-schema'].MongoObject;\nFlowRouter = Package['kadira:flow-router'].FlowRouter;\nBlazeLayout = Package['kadira:blaze-layout'].BlazeLayout;\nMeteor = Package.meteor.Meteor;\nglobal = Package.meteor.global;\nmeteorEnv = Package.meteor.meteorEnv;\nWebApp = Package.webapp.WebApp;\n_ = Package.underscore._;\nDDP = Package['ddp-client'].DDP;\nLaunchScreen = Package['launch-screen'].LaunchScreen;\nmeteorInstall = Package.modules.meteorInstall;\nBuffer = Package.modules.Buffer;\nprocess = Package.modules.process;\nSymbol = Package['ecmascript-runtime'].Symbol;\nMap = Package['ecmascript-runtime'].Map;\nSet = Package['ecmascript-runtime'].Set;\nmeteorBabelHelpers = Package['babel-runtime'].meteorBabelHelpers;\nPromise = Package.promise.Promise;\nAccounts = Package['accounts-base'].Accounts;\nCollection2 = Package['aldeed:collection2-core'].Collection2;\nBlaze = Package.ui.Blaze;\nUI = Package.ui.UI;\nHandlebars = Package.ui.Handlebars;\nSpacebars = Package.spacebars.Spacebars;\nTemplate = Package.templating.Template;\nAutoupdate = Package.autoupdate.Autoupdate;\nReload = Package.reload.Reload;\nHTML = Package.htmljs.HTML;\n\n","servePath":"/packages/global-imports.js"},{"type":"js","data":"var require = meteorInstall({\"client\":{\"template.body.js\":function(){\n\n//////////////////////////////////////////////////////////////////////////////////////////////////////////////\n//                                                                                                          //\n// client/template.body.js                                                                                  //\n//                                                                                                          //\n//////////////////////////////////////////////////////////////////////////////////////////////////////////////\n                                                                                                            //\n                                                                                                            // 1\nTemplate.body.addContent((function() {                                                                      // 2\n  var view = this;                                                                                          // 3\n  return \"\";                                                                                                // 4\n}));                                                                                                        // 5\nMeteor.startup(Template.body.renderToDocument);                                                             // 6\n                                                                                                            // 7\n//////////////////////////////////////////////////////////////////////////////////////////////////////////////\n\n},\"template.home.js\":function(){\n\n//////////////////////////////////////////////////////////////////////////////////////////////////////////////\n//                                                                                                          //\n// client/template.home.js                                                                                  //\n//                                                                                                          //\n//////////////////////////////////////////////////////////////////////////////////////////////////////////////\n                                                                                                            //\n                                                                                                            // 1\nTemplate.__checkName(\"home\");                                                                               // 2\nTemplate[\"home\"] = new Template(\"Template.home\", (function() {                                              // 3\n  var view = this;                                                                                          // 4\n  return HTML.DIV({                                                                                         // 5\n    \"class\": \"page\"                                                                                         // 6\n  }, HTML.Raw(\"\\n\t\t<h1>DeeeeeDjay</h1>\\n\t\t\\n\t\t\"), Spacebars.include(view.lookupTemplate(\"currentGuests\")), \"\\n\t\t\", Spacebars.include(view.lookupTemplate(\"genderRatio\")), \"\\n\t\t\", Spacebars.include(view.lookupTemplate(\"ageRatio\")), \"\\n\\n  \");\n}));                                                                                                        // 8\n                                                                                                            // 9\nTemplate.__checkName(\"currentGuests\");                                                                      // 10\nTemplate[\"currentGuests\"] = new Template(\"Template.currentGuests\", (function() {                            // 11\n  var view = this;                                                                                          // 12\n  return HTML.DIV({                                                                                         // 13\n    \"class\": \"current-guests-container\"                                                                     // 14\n  }, HTML.Raw(\"\\n\t\t<h2>Total</h2>\\n\t\t\"), Blaze.View(\"lookup:getNumberOfGuests\", function() {                // 15\n    return Spacebars.mustache(view.lookup(\"getNumberOfGuests\"));                                            // 16\n  }), \"\\n\t\");                                                                                               // 17\n}));                                                                                                        // 18\n                                                                                                            // 19\nTemplate.__checkName(\"genderRatio\");                                                                        // 20\nTemplate[\"genderRatio\"] = new Template(\"Template.genderRatio\", (function() {                                // 21\n  var view = this;                                                                                          // 22\n  return HTML.DIV({                                                                                         // 23\n    \"class\": \"gender-ratio-container\"                                                                       // 24\n  }, \"\\n\t\t\", HTML.DIV({                                                                                     // 25\n    \"class\": \"number-of-women-container\"                                                                    // 26\n  }, \"\\n\t\t\t\", HTML.Raw(\"<h2>Women</h2>\"), \"\\n\t\t\t\", Blaze.View(\"lookup:getNumberOfWomen\", function() {       // 27\n    return Spacebars.mustache(view.lookup(\"getNumberOfWomen\"));                                             // 28\n  }), \"\\n\t\t\"), \"\\n\t\t\", HTML.DIV({                                                                           // 29\n    \"class\": \"number-of-men-container\"                                                                      // 30\n  }, \"\\n\t\t\t\", HTML.Raw(\"<h2>Men</h2>\"), \"\\n\t\t\t\", Blaze.View(\"lookup:getNumberOfMen\", function() {           // 31\n    return Spacebars.mustache(view.lookup(\"getNumberOfMen\"));                                               // 32\n  }), \"\\n\t\t\"), \"\\n\t\");                                                                                      // 33\n}));                                                                                                        // 34\n                                                                                                            // 35\nTemplate.__checkName(\"ageRatio\");                                                                           // 36\nTemplate[\"ageRatio\"] = new Template(\"Template.ageRatio\", (function() {                                      // 37\n  var view = this;                                                                                          // 38\n  return HTML.DIV({                                                                                         // 39\n    \"class\": \"age-ratio-container\"                                                                          // 40\n  }, \"\\n\t\t\", HTML.DIV({                                                                                     // 41\n    \"class\": \"twenties-age-container\"                                                                       // 42\n  }, \"\\n\t\t\t\", HTML.Raw(\"<h2>Twenties</h2>\"), \"\\n\t\t\t\", Blaze.View(\"lookup:getNumberOfTwenties\", function() {\n    return Spacebars.mustache(view.lookup(\"getNumberOfTwenties\"));                                          // 44\n  }), \"\\n\t\t\"), \"\\n\t\t\", HTML.DIV({                                                                           // 45\n    \"class\": \"thirties-age-container\"                                                                       // 46\n  }, \"\\n\t\t\t\", HTML.Raw(\"<h2>Thirties</h2>\"), \"\\n\t\t\t\", Blaze.View(\"lookup:getNumberOfThirties\", function() {\n    return Spacebars.mustache(view.lookup(\"getNumberOfThirties\"));                                          // 48\n  }), \"\\n\t\t\"), HTML.Raw('\\n\t\t<!-- <div class=\"fourties-age-container\">\\n\t\t\t<h2>Twenties</h2>\\n\t\t\t{{ getNumberOfFourties }}\\n\t\t</div>\\n\t\t<div class=\"fifties-age-container\">\\n\t\t\t<h2>Twenties</h2>\\n\t\t\t{{ getNumberOfFifties }}\\n\t\t</div>\\n\t\t<div class=\"Sixties-age-container\">\\n\t\t\t<h2>Twenties</h2>\\n\t\t\t{{ getNumberOfSixties }}\\n\t\t</div> -->\\n\t'));\n}));                                                                                                        // 50\n                                                                                                            // 51\n//////////////////////////////////////////////////////////////////////////////////////////////////////////////\n\n},\"guestUpdates\":{\"guestUpdates.js\":function(){\n\n//////////////////////////////////////////////////////////////////////////////////////////////////////////////\n//                                                                                                          //\n// client/guestUpdates/guestUpdates.js                                                                      //\n//                                                                                                          //\n//////////////////////////////////////////////////////////////////////////////////////////////////////////////\n                                                                                                            //\n                                                                                                            //\n//////////////////////////////////////////////////////////////////////////////////////////////////////////////\n\n}},\"home.js\":function(){\n\n//////////////////////////////////////////////////////////////////////////////////////////////////////////////\n//                                                                                                          //\n// client/home.js                                                                                           //\n//                                                                                                          //\n//////////////////////////////////////////////////////////////////////////////////////////////////////////////\n                                                                                                            //\nTemplate.home.onCreated(function () {                                                                       // 1\n  var _this = this;                                                                                         // 1\n                                                                                                            //\n  this.autorun(function () {                                                                                // 2\n    _this.subscribe('GuestUpdates.all');                                                                    // 3\n  });                                                                                                       // 4\n});                                                                                                         // 5\n                                                                                                            //\nTemplate.currentGuests.helpers({                                                                            // 7\n  getNumberOfGuests: function () {                                                                          // 8\n    function getNumberOfGuests() {                                                                          // 7\n      return getFieldAmount(GuestUpdates.find().fetch(), function () {                                      // 9\n        return true;                                                                                        // 10\n      });                                                                                                   // 11\n    }                                                                                                       // 12\n                                                                                                            //\n    return getNumberOfGuests;                                                                               // 7\n  }()                                                                                                       // 7\n});                                                                                                         // 7\n                                                                                                            //\nTemplate.genderRatio.helpers({                                                                              // 15\n  getNumberOfWomen: function () {                                                                           // 16\n    function getNumberOfWomen() {                                                                           // 15\n      return getFieldAmount(GuestUpdates.find().fetch(), function (guestUpdate) {                           // 17\n        return guestUpdate.gender === 'GENDER_FEMALE';                                                      // 18\n      });                                                                                                   // 19\n    }                                                                                                       // 20\n                                                                                                            //\n    return getNumberOfWomen;                                                                                // 15\n  }(),                                                                                                      // 15\n  getNumberOfMen: function () {                                                                             // 21\n    function getNumberOfMen() {                                                                             // 15\n      return getFieldAmount(GuestUpdates.find().fetch(), function (guestUpdate) {                           // 22\n        return guestUpdate.gender === 'GENDER_MALE';                                                        // 23\n      });                                                                                                   // 24\n    }                                                                                                       // 25\n                                                                                                            //\n    return getNumberOfMen;                                                                                  // 15\n  }()                                                                                                       // 15\n});                                                                                                         // 15\n                                                                                                            //\nTemplate.ageRatio.helpers({                                                                                 // 28\n  getNumberOfTwenties: function () {                                                                        // 29\n    function getNumberOfTwenties() {                                                                        // 28\n      var guestUpdates = GuestUpdates.find({ age: 'AGE_GROUP_1' }).fetch();                                 // 30\n      var value = 0;                                                                                        // 31\n      _.each(guestUpdates, function (guestUpdate) {                                                         // 32\n        if (guestUpdate.value === 'INC') {                                                                  // 33\n          value++;                                                                                          // 34\n        } else if (guestUpdate.value === 'DEC') {                                                           // 35\n          value--;                                                                                          // 36\n        }                                                                                                   // 37\n      });                                                                                                   // 38\n      return value;                                                                                         // 39\n    }                                                                                                       // 40\n                                                                                                            //\n    return getNumberOfTwenties;                                                                             // 28\n  }(),                                                                                                      // 28\n  getNumberOfThirties: function () {                                                                        // 41\n    function getNumberOfThirties() {                                                                        // 28\n      var guestUpdates = GuestUpdates.find({ age: 'AGE_GROUP_2' }).fetch();                                 // 42\n      var value = 0;                                                                                        // 43\n      _.each(guestUpdates, function (guestUpdate) {                                                         // 44\n        if (guestUpdate.value === 'INC') {                                                                  // 45\n          value++;                                                                                          // 46\n        } else if (guestUpdate.value === 'DEC') {                                                           // 47\n          value--;                                                                                          // 48\n        }                                                                                                   // 49\n      });                                                                                                   // 50\n      return value;                                                                                         // 51\n    }                                                                                                       // 52\n                                                                                                            //\n    return getNumberOfThirties;                                                                             // 28\n  }()                                                                                                       // 28\n});                                                                                                         // 28\n                                                                                                            //\nfunction getFieldAmount(array, fun) {                                                                       // 56\n  var currentAmount = 0;                                                                                    // 57\n  _.each(array, function (item) {                                                                           // 58\n    var amount = item.value === 'INC' ? 1 : -1;                                                             // 59\n    currentAmount += fun(item) ? amount : 0;                                                                // 60\n  });                                                                                                       // 61\n                                                                                                            //\n  return currentAmount;                                                                                     // 63\n}                                                                                                           // 64\n//////////////////////////////////////////////////////////////////////////////////////////////////////////////\n\n},\"router.js\":function(){\n\n//////////////////////////////////////////////////////////////////////////////////////////////////////////////\n//                                                                                                          //\n// client/router.js                                                                                         //\n//                                                                                                          //\n//////////////////////////////////////////////////////////////////////////////////////////////////////////////\n                                                                                                            //\nFlowRouter.route('/', {                                                                                     // 1\n  action: function () {                                                                                     // 2\n    function action() {                                                                                     // 1\n      BlazeLayout.render('home', {});                                                                       // 3\n    }                                                                                                       // 4\n                                                                                                            //\n    return action;                                                                                          // 1\n  }()                                                                                                       // 1\n});                                                                                                         // 1\n//////////////////////////////////////////////////////////////////////////////////////////////////////////////\n\n}},\"lib\":{\"collections\":{\"guestUpdates\":{\"collection.js\":function(){\n\n//////////////////////////////////////////////////////////////////////////////////////////////////////////////\n//                                                                                                          //\n// lib/collections/guestUpdates/collection.js                                                               //\n//                                                                                                          //\n//////////////////////////////////////////////////////////////////////////////////////////////////////////////\n                                                                                                            //\nGuestUpdates = new Mongo.Collection('guestUpdates');                                                        // 1\n                                                                                                            //\nvar guestUpdateSchema = new SimpleSchema({                                                                  // 3\n  _id: { type: String, regEx: SimpleSchema.RegEx.Id },                                                      // 4\n  value: { type: String }, // 'INC', or 'DEC'                                                               // 5\n  age: { type: String }, // 'AGE_GROUP_1', 'AGE_GROUP_2', 'AGE_GROUP_3', 'AGE_GROUP_4', or 'AGE_GROUP_5'    // 6\n  gender: { type: String }, // 'GENDER_MALE' or 'GENDER_FEMALE'                                             // 7\n  timestamp: { type: Date }                                                                                 // 8\n});                                                                                                         // 3\n                                                                                                            //\nGuestUpdates.attachSchema(guestUpdateSchema);                                                               // 11\n                                                                                                            //\nGuestUpdates.methods = {};                                                                                  // 13\n//////////////////////////////////////////////////////////////////////////////////////////////////////////////\n\n}}},\"_helpers.js\":function(){\n\n//////////////////////////////////////////////////////////////////////////////////////////////////////////////\n//                                                                                                          //\n// lib/_helpers.js                                                                                          //\n//                                                                                                          //\n//////////////////////////////////////////////////////////////////////////////////////////////////////////////\n                                                                                                            //\nHelpers = {};                                                                                               // 1\n//////////////////////////////////////////////////////////////////////////////////////////////////////////////\n\n},\"constants.js\":function(){\n\n//////////////////////////////////////////////////////////////////////////////////////////////////////////////\n//                                                                                                          //\n// lib/constants.js                                                                                         //\n//                                                                                                          //\n//////////////////////////////////////////////////////////////////////////////////////////////////////////////\n                                                                                                            //\nConstants = {};                                                                                             // 1\n//////////////////////////////////////////////////////////////////////////////////////////////////////////////\n\n}}},{\"extensions\":[\".js\",\".json\",\".html\"]});\nrequire(\"./client/template.body.js\");\nrequire(\"./client/template.home.js\");\nrequire(\"./lib/collections/guestUpdates/collection.js\");\nrequire(\"./lib/_helpers.js\");\nrequire(\"./lib/constants.js\");\nrequire(\"./client/guestUpdates/guestUpdates.js\");\nrequire(\"./client/home.js\");\nrequire(\"./client/router.js\");","servePath":"/app.js","sourceMap":{"version":3,"sources":["/client/template.body.js","/client/template.home.js","/client/home.js","/client/router.js","/lib/collections/guestUpdates/collection.js","/lib/_helpers.js","/lib/constants.js"],"names":[],"mappings":"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","file":"/app.js","sourcesContent":["\nTemplate.body.addContent((function() {\n  var view = this;\n  return \"\";\n}));\nMeteor.startup(Template.body.renderToDocument);\n","\nTemplate.__checkName(\"home\");\nTemplate[\"home\"] = new Template(\"Template.home\", (function() {\n  var view = this;\n  return HTML.DIV({\n    \"class\": \"page\"\n  }, HTML.Raw(\"\\n\t\t<h1>DeeeeeDjay</h1>\\n\t\t\\n\t\t\"), Spacebars.include(view.lookupTemplate(\"currentGuests\")), \"\\n\t\t\", Spacebars.include(view.lookupTemplate(\"genderRatio\")), \"\\n\t\t\", Spacebars.include(view.lookupTemplate(\"ageRatio\")), \"\\n\\n  \");\n}));\n\nTemplate.__checkName(\"currentGuests\");\nTemplate[\"currentGuests\"] = new Template(\"Template.currentGuests\", (function() {\n  var view = this;\n  return HTML.DIV({\n    \"class\": \"current-guests-container\"\n  }, HTML.Raw(\"\\n\t\t<h2>Total</h2>\\n\t\t\"), Blaze.View(\"lookup:getNumberOfGuests\", function() {\n    return Spacebars.mustache(view.lookup(\"getNumberOfGuests\"));\n  }), \"\\n\t\");\n}));\n\nTemplate.__checkName(\"genderRatio\");\nTemplate[\"genderRatio\"] = new Template(\"Template.genderRatio\", (function() {\n  var view = this;\n  return HTML.DIV({\n    \"class\": \"gender-ratio-container\"\n  }, \"\\n\t\t\", HTML.DIV({\n    \"class\": \"number-of-women-container\"\n  }, \"\\n\t\t\t\", HTML.Raw(\"<h2>Women</h2>\"), \"\\n\t\t\t\", Blaze.View(\"lookup:getNumberOfWomen\", function() {\n    return Spacebars.mustache(view.lookup(\"getNumberOfWomen\"));\n  }), \"\\n\t\t\"), \"\\n\t\t\", HTML.DIV({\n    \"class\": \"number-of-men-container\"\n  }, \"\\n\t\t\t\", HTML.Raw(\"<h2>Men</h2>\"), \"\\n\t\t\t\", Blaze.View(\"lookup:getNumberOfMen\", function() {\n    return Spacebars.mustache(view.lookup(\"getNumberOfMen\"));\n  }), \"\\n\t\t\"), \"\\n\t\");\n}));\n\nTemplate.__checkName(\"ageRatio\");\nTemplate[\"ageRatio\"] = new Template(\"Template.ageRatio\", (function() {\n  var view = this;\n  return HTML.DIV({\n    \"class\": \"age-ratio-container\"\n  }, \"\\n\t\t\", HTML.DIV({\n    \"class\": \"twenties-age-container\"\n  }, \"\\n\t\t\t\", HTML.Raw(\"<h2>Twenties</h2>\"), \"\\n\t\t\t\", Blaze.View(\"lookup:getNumberOfTwenties\", function() {\n    return Spacebars.mustache(view.lookup(\"getNumberOfTwenties\"));\n  }), \"\\n\t\t\"), \"\\n\t\t\", HTML.DIV({\n    \"class\": \"thirties-age-container\"\n  }, \"\\n\t\t\t\", HTML.Raw(\"<h2>Thirties</h2>\"), \"\\n\t\t\t\", Blaze.View(\"lookup:getNumberOfThirties\", function() {\n    return Spacebars.mustache(view.lookup(\"getNumberOfThirties\"));\n  }), \"\\n\t\t\"), HTML.Raw('\\n\t\t<!-- <div class=\"fourties-age-container\">\\n\t\t\t<h2>Twenties</h2>\\n\t\t\t{{ getNumberOfFourties }}\\n\t\t</div>\\n\t\t<div class=\"fifties-age-container\">\\n\t\t\t<h2>Twenties</h2>\\n\t\t\t{{ getNumberOfFifties }}\\n\t\t</div>\\n\t\t<div class=\"Sixties-age-container\">\\n\t\t\t<h2>Twenties</h2>\\n\t\t\t{{ getNumberOfSixties }}\\n\t\t</div> -->\\n\t'));\n}));\n","Template.home.onCreated(function() {\n  this.autorun(() => {\n    this.subscribe('GuestUpdates.all');\n  });\n});\n\nTemplate.currentGuests.helpers({\n  getNumberOfGuests() {\n    return getFieldAmount(GuestUpdates.find().fetch(), () => {\n      return true;\n    });\n  },\n});\n\nTemplate.genderRatio.helpers({\n  getNumberOfWomen() {\n    return getFieldAmount(GuestUpdates.find().fetch(), (guestUpdate) => {\n      return guestUpdate.gender === 'GENDER_FEMALE';\n    });\n  },\n  getNumberOfMen() {\n    return getFieldAmount(GuestUpdates.find().fetch(), (guestUpdate) => {\n      return guestUpdate.gender === 'GENDER_MALE';\n    });\n  },\n});\n\nTemplate.ageRatio.helpers({\n  getNumberOfTwenties() {\n    const guestUpdates = GuestUpdates.find({ age: 'AGE_GROUP_1' }).fetch();\n    let value = 0;\n    _.each(guestUpdates, (guestUpdate) => {\n      if (guestUpdate.value === 'INC') {\n        value++;\n      } else if (guestUpdate.value === 'DEC') {\n        value--;\n      }\n    });\n    return value;\n  },\n  getNumberOfThirties() {\n    const guestUpdates = GuestUpdates.find({ age: 'AGE_GROUP_2' }).fetch();\n    let value = 0;\n    _.each(guestUpdates, (guestUpdate) => {\n      if (guestUpdate.value === 'INC') {\n        value++;\n      } else if (guestUpdate.value === 'DEC') {\n        value--;\n      }\n    });\n    return value;\n  },\n});\n\n\nfunction getFieldAmount(array, fun) {\n  let currentAmount = 0;\n  _.each(array, (item) => {\n    const amount = item.value === 'INC' ? 1 : -1;\n    currentAmount += fun(item) ? amount : 0;\n  });\n\n  return currentAmount;\n}\n","FlowRouter.route('/', {\n  action() {\n    BlazeLayout.render('home', {});\n  }\n});\n","GuestUpdates = new Mongo.Collection('guestUpdates');\n\nconst guestUpdateSchema = new SimpleSchema({\n  _id: { type: String, regEx: SimpleSchema.RegEx.Id },\n  value: { type: String },  // 'INC', or 'DEC'\n  age: { type: String }, // 'AGE_GROUP_1', 'AGE_GROUP_2', 'AGE_GROUP_3', 'AGE_GROUP_4', or 'AGE_GROUP_5'\n  gender: { type: String }, // 'GENDER_MALE' or 'GENDER_FEMALE'\n  timestamp: { type: Date },\n});\n\nGuestUpdates.attachSchema(guestUpdateSchema);\n\nGuestUpdates.methods = {};\n","Helpers = {};\n","Constants = {};\n"]}}]