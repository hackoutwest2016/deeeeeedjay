{"metadata":{"usedHelpers":[],"marked":[],"modules":{"imports":[],"exports":{"exported":[],"specifiers":[]}}},"options":{"filename":"/client/home.js","filenameRelative":"/client/home.js","env":{},"retainLines":false,"highlightCode":true,"suppressDeprecationMessages":false,"presets":[],"plugins":[[[],{"polyfill":false}],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],{"loose":true}],[[],{"loose":true}],[[],null],[[],{"loose":true}],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],{"loose":true}],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null]],"ignore":[],"code":true,"metadata":true,"ast":false,"comments":true,"compact":false,"minified":false,"sourceMap":true,"sourceMaps":true,"sourceMapTarget":"/client/home.js.map","sourceFileName":"/client/home.js","babelrc":false,"sourceType":"module","moduleIds":false,"passPerPreset":false,"basename":"home"},"ignored":false,"code":"Template.home.onCreated(function () {\n  var _this = this;\n\n  this.autorun(function () {\n    _this.subscribe('GuestUpdates.all');\n  });\n});\n\nTemplate.currentGuests.helpers({\n  getNumberOfGuests: function () {\n    function getNumberOfGuests() {\n      return getFieldAmount(GuestUpdates.find().fetch(), function () {\n        return true;\n      });\n    }\n\n    return getNumberOfGuests;\n  }()\n});\n\nTemplate.genderRatio.helpers({\n  getNumberOfWomen: function () {\n    function getNumberOfWomen() {\n      return getFieldAmount(GuestUpdates.find().fetch(), function (guestUpdate) {\n        return guestUpdate.gender === 'GENDER_FEMALE';\n      });\n    }\n\n    return getNumberOfWomen;\n  }(),\n  getNumberOfMen: function () {\n    function getNumberOfMen() {\n      return getFieldAmount(GuestUpdates.find().fetch(), function (guestUpdate) {\n        return guestUpdate.gender === 'GENDER_MALE';\n      });\n    }\n\n    return getNumberOfMen;\n  }()\n});\n\nTemplate.ageRatio.helpers({\n  getNumberOfTwenties: function () {\n    function getNumberOfTwenties() {\n      var guestUpdates = GuestUpdates.find({ age: 'AGE_GROUP_1' }).fetch();\n      var value = 0;\n      _.each(guestUpdates, function (guestUpdate) {\n        if (guestUpdate.value === 'INC') {\n          value++;\n        } else if (guestUpdate.value === 'DEC') {\n          value--;\n        }\n      });\n      return value;\n    }\n\n    return getNumberOfTwenties;\n  }(),\n  getNumberOfThirties: function () {\n    function getNumberOfThirties() {\n      var guestUpdates = GuestUpdates.find({ age: 'AGE_GROUP_2' }).fetch();\n      var value = 0;\n      _.each(guestUpdates, function (guestUpdate) {\n        if (guestUpdate.value === 'INC') {\n          value++;\n        } else if (guestUpdate.value === 'DEC') {\n          value--;\n        }\n      });\n      return value;\n    }\n\n    return getNumberOfThirties;\n  }()\n});\n\nfunction getFieldAmount(array, fun) {\n  var currentAmount = 0;\n  _.each(array, function (item) {\n    var amount = item.value === 'INC' ? 1 : -1;\n    currentAmount += fun(item) ? amount : 0;\n  });\n\n  return currentAmount;\n}","ast":null,"map":{"version":3,"sources":["/client/home.js"],"names":[],"mappings":"AAAA,SAAS,IAAT,CAAc,SAAd,CAAwB,YAAW;AAAA;;AACjC,OAAK,OAAL,CAAa,YAAM;AACjB,UAAK,SAAL,CAAe,kBAAf;AACD,GAFD;AAGD,CAJD;;AAMA,SAAS,aAAT,CAAuB,OAAvB,CAA+B;AAC7B,mBAD6B;AAAA,iCACT;AAClB,aAAO,eAAe,aAAa,IAAb,GAAoB,KAApB,EAAf,EAA4C,YAAM;AACvD,eAAO,IAAP;AACD,OAFM,CAAP;AAGD;;AAL4B;AAAA;AAAA,CAA/B;;AAQA,SAAS,WAAT,CAAqB,OAArB,CAA6B;AAC3B,kBAD2B;AAAA,gCACR;AACjB,aAAO,eAAe,aAAa,IAAb,GAAoB,KAApB,EAAf,EAA4C,UAAC,WAAD,EAAiB;AAClE,eAAO,YAAY,MAAZ,KAAuB,eAA9B;AACD,OAFM,CAAP;AAGD;;AAL0B;AAAA;AAM3B,gBAN2B;AAAA,8BAMV;AACf,aAAO,eAAe,aAAa,IAAb,GAAoB,KAApB,EAAf,EAA4C,UAAC,WAAD,EAAiB;AAClE,eAAO,YAAY,MAAZ,KAAuB,aAA9B;AACD,OAFM,CAAP;AAGD;;AAV0B;AAAA;AAAA,CAA7B;;AAaA,SAAS,QAAT,CAAkB,OAAlB,CAA0B;AACxB,qBADwB;AAAA,mCACF;AACpB,UAAM,eAAe,aAAa,IAAb,CAAkB,EAAE,KAAK,aAAP,EAAlB,EAA0C,KAA1C,EAArB;AACA,UAAI,QAAQ,CAAZ;AACA,QAAE,IAAF,CAAO,YAAP,EAAqB,UAAC,WAAD,EAAiB;AACpC,YAAI,YAAY,KAAZ,KAAsB,KAA1B,EAAiC;AAC/B;AACD,SAFD,MAEO,IAAI,YAAY,KAAZ,KAAsB,KAA1B,EAAiC;AACtC;AACD;AACF,OAND;AAOA,aAAO,KAAP;AACD;;AAZuB;AAAA;AAaxB,qBAbwB;AAAA,mCAaF;AACpB,UAAM,eAAe,aAAa,IAAb,CAAkB,EAAE,KAAK,aAAP,EAAlB,EAA0C,KAA1C,EAArB;AACA,UAAI,QAAQ,CAAZ;AACA,QAAE,IAAF,CAAO,YAAP,EAAqB,UAAC,WAAD,EAAiB;AACpC,YAAI,YAAY,KAAZ,KAAsB,KAA1B,EAAiC;AAC/B;AACD,SAFD,MAEO,IAAI,YAAY,KAAZ,KAAsB,KAA1B,EAAiC;AACtC;AACD;AACF,OAND;AAOA,aAAO,KAAP;AACD;;AAxBuB;AAAA;AAAA,CAA1B;;AA4BA,SAAS,cAAT,CAAwB,KAAxB,EAA+B,GAA/B,EAAoC;AAClC,MAAI,gBAAgB,CAApB;AACA,IAAE,IAAF,CAAO,KAAP,EAAc,UAAC,IAAD,EAAU;AACtB,QAAM,SAAS,KAAK,KAAL,KAAe,KAAf,GAAuB,CAAvB,GAA2B,CAAC,CAA3C;AACA,qBAAiB,IAAI,IAAJ,IAAY,MAAZ,GAAqB,CAAtC;AACD,GAHD;;AAKA,SAAO,aAAP;AACD","file":"/client/home.js.map","sourcesContent":["Template.home.onCreated(function() {\n  this.autorun(() => {\n    this.subscribe('GuestUpdates.all');\n  });\n});\n\nTemplate.currentGuests.helpers({\n  getNumberOfGuests() {\n    return getFieldAmount(GuestUpdates.find().fetch(), () => {\n      return true;\n    });\n  },\n});\n\nTemplate.genderRatio.helpers({\n  getNumberOfWomen() {\n    return getFieldAmount(GuestUpdates.find().fetch(), (guestUpdate) => {\n      return guestUpdate.gender === 'GENDER_FEMALE';\n    });\n  },\n  getNumberOfMen() {\n    return getFieldAmount(GuestUpdates.find().fetch(), (guestUpdate) => {\n      return guestUpdate.gender === 'GENDER_MALE';\n    });\n  },\n});\n\nTemplate.ageRatio.helpers({\n  getNumberOfTwenties() {\n    const guestUpdates = GuestUpdates.find({ age: 'AGE_GROUP_1' }).fetch();\n    let value = 0;\n    _.each(guestUpdates, (guestUpdate) => {\n      if (guestUpdate.value === 'INC') {\n        value++;\n      } else if (guestUpdate.value === 'DEC') {\n        value--;\n      }\n    });\n    return value;\n  },\n  getNumberOfThirties() {\n    const guestUpdates = GuestUpdates.find({ age: 'AGE_GROUP_2' }).fetch();\n    let value = 0;\n    _.each(guestUpdates, (guestUpdate) => {\n      if (guestUpdate.value === 'INC') {\n        value++;\n      } else if (guestUpdate.value === 'DEC') {\n        value--;\n      }\n    });\n    return value;\n  },\n});\n\n\nfunction getFieldAmount(array, fun) {\n  let currentAmount = 0;\n  _.each(array, (item) => {\n    const amount = item.value === 'INC' ? 1 : -1;\n    currentAmount += fun(item) ? amount : 0;\n  });\n\n  return currentAmount;\n}\n"]},"hash":"795d5abff864ddeabc6835a4f54a8ef1d5adc19d"}
